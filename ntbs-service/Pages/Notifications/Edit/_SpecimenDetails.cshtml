@model IEnumerable<ntbs_service.Models.Entities.Specimen>

@if (Model.Count() > 0)
{
    <h2>Summary by specimen</h2>
    <div id="specimens-details">
        @foreach (var specimen in Model)
        {
            <div class="notification-specimen-summary">
                <h3>Specimen #@specimen.ReferenceLaboratoryNumber</h3>
                <div>
                    <nhs-grid-row>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.ReferenceLaboratoryNumber) </dt>
                            <dd class="cell-min-height"> @specimen.ReferenceLaboratoryNumber </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.SpecimenDate) </dt>
                            <dd class="cell-min-height"> @specimen.FormattedSpecimenDate </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.SpecimenTypeCode) </dt>
                            <dd class="cell-min-height"> @specimen.SpecimenTypeCode </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.Species) </dt>
                            <dd class="cell-min-height"> @specimen.Species </dd>
                        </nhs-grid-column>
                    </nhs-grid-row>
                    <nhs-grid-row>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.Isoniazid) </dt>
                            <dd class="cell-min-height"> @specimen.Isoniazid </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.Rifampicin) </dt>
                            <dd class="cell-min-height"> @specimen.Rifampicin </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.Pyrazinamide) </dt>
                            <dd class="cell-min-height"> @specimen.Pyrazinamide </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.Ethambutol) </dt>
                            <dd class="cell-min-height"> @specimen.Ethambutol </dd>
                        </nhs-grid-column>
                    </nhs-grid-row>
                    <nhs-grid-row>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.Aminoglycocide) </dt>
                            <dd class="cell-min-height"> @specimen.Aminoglycocide </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.Quinolone) </dt>
                            <dd class="cell-min-height"> @specimen.Quinolone </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.MDR) </dt>
                            <dd class="cell-min-height"> @specimen.MDR </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneQuarter">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.XDR) </dt>
                            <dd class="cell-min-height"> @specimen.XDR </dd>
                        </nhs-grid-column>
                    </nhs-grid-row>
                </div>
                
                <br>
                <h3>Patient Details</h3>

                <div>
                    <nhs-grid-row>
                        <nhs-grid-column grid-column-width="OneThird">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.PatientNhsNumber) </dt>
                            <dd class="cell-min-height"> @specimen.PatientNhsNumber </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneThird">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.PatientName) </dt>
                            <dd class="cell-min-height"> @specimen.PatientName </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneThird">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.PatientSex) </dt>
                            <dd class="cell-min-height"> @specimen.PatientSex </dd>
                        </nhs-grid-column>
                    </nhs-grid-row>
                    <nhs-grid-row>
                        <nhs-grid-column grid-column-width="OneThird">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.PatientBirthDate) </dt>
                            <dd class="cell-min-height"> @specimen.FormattedPatientDob </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneThird">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.PatientAddress) </dt>
                            <dd class="cell-min-height"> @specimen.PatientAddress </dd>
                        </nhs-grid-column>
                        <nhs-grid-column grid-column-width="OneThird">
                            <dt class="notification-test-results-label"> @Html.DisplayNameFor(m => m.PatientPostcode) </dt>
                            <dd class="cell-min-height"> @specimen.PatientPostcode </dd>
                        </nhs-grid-column>
                    </nhs-grid-row>                
                </div>
                <button nhs-button-type="Standard"
                    classes="ntbsuk-button--secondary unmatch-button" 
                    asp-page-handler="Unmatch" 
                    asp-route-labReferenceNumber="@specimen.ReferenceLaboratoryNumber">
                        Unmatch
                </button>
            </div>
        }
    </div>
}